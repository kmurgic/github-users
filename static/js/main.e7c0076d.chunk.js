(this["webpackJsonpgithub-users"]=this["webpackJsonpgithub-users"]||[]).push([[0],{31:function(e,t,r){e.exports=r(62)},42:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){},49:function(e,t,r){},50:function(e,t,r){},51:function(e,t,r){},59:function(e,t,r){},60:function(e,t,r){},61:function(e,t,r){},62:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(28),s=r.n(c),l=r(9),u=r(11),i=r(10),o=r(4),m=r.n(o),f=r(13),p=r(8),b=r(6),d=r(3),h=r(16),E=r(17),v=(r(42),function(e){var t=e.currentSearch,r=e.search,c=Object(a.useState)(""),s=Object(b.a)(c,2),u=s[0],i=s[1],o=Object(d.g)();Object(a.useEffect)((function(){i("")}),[o]);return n.a.createElement("div",{className:"Header"},n.a.createElement("h1",{className:"Header__title"},n.a.createElement(l.b,{className:"Header__link",to:"".concat("/github-users","/")},"Github User List")),n.a.createElement("form",{className:"Header__form"},n.a.createElement("input",{className:"Header__input",onChange:function(e){i(e.target.value)},onFocus:function(e){e.currentTarget.select()},placeholder:"Search...",type:"search",value:u}),n.a.createElement("button",{className:"Header__icon-button",onClick:function(e){e.preventDefault(),r(u)},type:"submit"},n.a.createElement(h.a,{className:"Header__icon",icon:E.c}))),n.a.createElement("p",{className:"Header__search-text"},t.trim()&&n.a.createElement(n.a.Fragment,null,'Displaying search results for "'.concat(t,'"')," ",n.a.createElement("button",{className:"Header__clear-button",onClick:function(){i(""),r("")},type:"button"},"clear"))))}),_=(r(45),Object(a.memo)((function(e){var t=e.imgUrl,r=e.isProfile,a=e.userClass,c=e.username,s=e.url,u=a||"User";return n.a.createElement("div",{className:u},n.a.createElement("div",{className:"User__image-container"},t&&n.a.createElement("img",{alt:"Avatar for ".concat(c),className:"User__image",src:t})),n.a.createElement("div",{className:"User__username-container"},r&&n.a.createElement("a",{className:"User__username",href:s,rel:"noopener noreferrer",target:"_blank"},c),c&&!r&&n.a.createElement(l.b,{className:"User__username",to:"".concat("/github-users","/").concat(c,"/repositories")},c)))})));_.defaultProps={userClass:"",isProfile:!1,url:""};var O=_,j=(r(46),function(){return n.a.createElement("div",{className:"lds-spinner"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))}),g=(r(47),function(){return n.a.createElement("div",{className:"lds-ellipsis"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))}),x=(r(48),function(e){var t=e.isFollowerList,r=e.loading,a=e.searchTerm,c=t?"UserList--followers":"UserList",s=e.users.filter((function(e){return e.username.toLowerCase().includes(a.toLowerCase().trim())})),l="No matching ".concat(t?"followers":"users"),u=(a||!r)&&!s.length,i=!a&&r&&!s.length,o=!a&&r&&!!s.length;return n.a.createElement("div",{className:c},u&&n.a.createElement("p",null,l),s.map((function(e){return n.a.createElement(O,{key:e.id,imgUrl:e.imgUrl,username:e.username})})),i&&n.a.createElement(j,null),o&&n.a.createElement(g,null))});x.defaultProps={isFollowerList:!1};var U=x,w=(r(49),Object(a.memo)((function(e){var t=e.watchers,r=e.forks,a=e.link,c=e.name,s=e.description;return n.a.createElement("div",{className:"Repository"},n.a.createElement("h4",{className:"Repository__title"},n.a.createElement("a",{className:"Repository__link",href:a,rel:"noopener noreferrer",target:"_blank"},c)),n.a.createElement("p",{className:"Repository__description"},s),n.a.createElement("div",{className:"Repository__statistics"},n.a.createElement("span",{className:"Repository__watchers"},n.a.createElement(h.a,{className:"Repository__icon",icon:E.b}),n.a.createElement("span",{className:"Repository__count"},t)),n.a.createElement("span",{className:"Repository__forks"},n.a.createElement(h.a,{className:"Repository__icon",icon:E.a}),n.a.createElement("span",{className:"Repository__count"},r))))}))),k=(r(50),function(e){var t=e.loading,r=e.searchTerm,a=e.repositories.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase().trim())})),c=(r||!t)&&!a.length,s=!r&&t&&!a.length,l=!r&&t&&!!a.length;return n.a.createElement("div",{className:"RepositoryList"},c&&n.a.createElement("p",null,"No matching repositories"),a.map((function(e){return n.a.createElement(w,{key:e.id,description:e.description,forks:e.forks,link:e.link,name:e.name,watchers:e.watchers})})),s&&n.a.createElement(j,null),l&&n.a.createElement(g,null))}),N=(r(51),function(e){var t=e.followers,r=e.followersLoading,c=e.repositories,s=e.repositoriesLoading,u=e.searchTerm,i=e.users,o=Object(d.i)().url,m=Object(d.h)().username,f=Object(a.useState)(!1),p=Object(b.a)(f,2),h=p[0],E=p[1];Object(a.useEffect)((function(){var e=function(){var e=document.documentElement.scrollTop;!h&&e>84?E(!0):h&&e<84&&E(!1)};return document.addEventListener("scroll",e),function(){return document.removeEventListener("scroll",e)}}),[h]);var v=i.find((function(e){return e.username===m})),_=!!Object(d.i)("".concat(o,"/followers")),j=_?"UserProfile__tab--active":"UserProfile__tab",g=_?"UserProfile__tab":"UserProfile__tab--active",x=h?"UserProfile--shift-down":"UserProfile",w=h?"UserProfile__header--small":"UserProfile__header",N=h?"User--small-profile":"User--profile";return n.a.createElement("div",{className:x},!v&&n.a.createElement("p",null,"User not found"),v&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:w,"data-testid":"user-profile-header"},n.a.createElement(O,{imgUrl:v.imgUrl,isProfile:!0,url:v.url,userClass:N,username:m}),n.a.createElement("div",{className:"UserProfile__tab-switcher"},n.a.createElement(l.b,{className:g,to:"".concat(o,"/repositories")},"Repositories"),n.a.createElement(l.b,{className:j,to:"".concat(o,"/followers")},"Followers"))),n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"".concat(o,"/followers")},n.a.createElement(U,{isFollowerList:!0,loading:r,searchTerm:u,users:t})),n.a.createElement(d.b,{path:"".concat(o,"/repositories")},n.a.createElement(k,{loading:s,searchTerm:u,repositories:c})))))}),L=r(30),y=r.n(L),S=function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a,n,c,s,l,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object({NODE_ENV:"production",PUBLIC_URL:"/github-users",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AUTH_TOKEN,a=r?{authorization:"token ".concat(r)}:{},e.prev=2,e.next=5,fetch(t,{headers:a});case 5:if(!((n=e.sent).status<200||n.status>=300)){e.next=8;break}throw n;case 8:return e.next=10,n.json();case 10:return c=e.sent,s=n.headers.get("Link"),l=y()(s),u=l.next?l.next.url:null,e.abrupt("return",{nextUrl:u,data:c});case 17:return e.prev=17,e.t0=e.catch(2),e.abrupt("return",{error:e.t0});case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a,n,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t||"https://api.github.com/users");case 2:if(r=e.sent,a=r.nextUrl,n=r.data,!(c=r.error)){e.next=8;break}return e.abrupt("return",{error:c});case 8:return s=n.map((function(e){return{id:e.id,imgUrl:e.avatar_url,url:e.html_url,username:e.login}})),e.abrupt("return",{nextUrl:a,userList:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a,n,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:if(r=e.sent,a=r.nextUrl,n=r.data,!(c=r.error)){e.next=8;break}return e.abrupt("return",{error:c});case 8:return s=n.map((function(e){return{id:e.id,description:e.description||"",forks:e.forks,link:e.html_url,name:e.name,watchers:e.watchers}})),e.abrupt("return",{nextUrl:a,repositoriesList:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(m.a.mark((function e(t){var r,a,n,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:if(r=e.sent,a=r.nextUrl,n=r.data,!(c=r.error)){e.next=8;break}return e.abrupt("return",{error:c});case 8:return s=n.map((function(e){return{id:e.id,imgUrl:e.avatar_url,url:e.html_url,username:e.login}})),e.abrupt("return",{nextUrl:a,followersList:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=(r(59),function(){return n.a.createElement("div",{className:"NotFound"},n.a.createElement("h1",null,"Page not found."))});r(60);var H=function(){var e=Object(d.g)(),t=Object(a.useState)(""),r=Object(b.a)(t,2),c=r[0],s=r[1],l=Object(a.useRef)(""),o=Object(a.useState)(!1),h=Object(b.a)(o,2),E=h[0],_=h[1],O=Object(a.useState)([]),j=Object(b.a)(O,2),g=j[0],x=j[1],w=Object(a.useState)(""),k=Object(b.a)(w,2),L=k[0],y=k[1],S=Object(a.useState)(!1),H=Object(b.a)(S,2),F=H[0],A=H[1],D=Object(a.useState)({}),I=Object(b.a)(D,2),K=I[0],z=I[1],W=Object(a.useState)([]),B=Object(b.a)(W,2),J=B[0],M=B[1],$=Object(a.useState)(!1),G=Object(b.a)($,2),V=G[0],q=G[1],Q=Object(a.useState)({}),X=Object(b.a)(Q,2),Y=X[0],Z=X[1],ee=Object(a.useState)([]),te=Object(b.a)(ee,2),re=te[0],ae=te[1];Object(a.useEffect)((function(){l.current="",s("")}),[e]);var ne=function(){var e=document.documentElement,t=e.scrollHeight-e.clientHeight-e.scrollTop;return Math.ceil(t/102)},ce=Object(a.useRef)(null),se=Object(a.useRef)(null),le=Object(a.useRef)(null),ue=function(e){return console.error(e)},ie=/\/[a-z\d-]*\/followers$/i.test(e.pathname),oe=/\/[a-z\d-]*\/repositories$/i.test(e.pathname);return Object(a.useEffect)((function(){var t=function(){var t=Object(p.a)(m.a.mark((function t(){var r,a,n,c,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=L===ce.current,l.current||E||r||null===L||e.pathname!=="".concat("/github-users","/")||!(ne()<100)){t.next=18;break}return ce.current=L,_(!0),t.next=6,P(L);case 6:if(a=t.sent,n=a.error,c=a.nextUrl,s=a.userList,!n){t.next=13;break}return ue(n),t.abrupt("return");case 13:if(!l.current){t.next=15;break}return t.abrupt("return");case 15:y(c),x((function(e){return[].concat(Object(f.a)(e),Object(f.a)(s))})),_(!1);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(){var t=Object(p.a)(m.a.mark((function t(){var r,a,n,c,s,o,p,b,d,h;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(oe){t.next=3;break}return J.length&&M([]),t.abrupt("return");case 3:if(r=e.pathname.lastIndexOf("/"),a=e.pathname.lastIndexOf("/",r-1),n=e.pathname.slice(a+1,r),M(K[n]?K[n].list:[]),c="https://api.github.com/users/".concat(n,"/repos"),s=K[n]?K[n].nextUrl:c,o=s===se.current,l.current||F||o||!s||!(ne()<100)){t.next=26;break}return se.current=s,A(!0),t.next=15,R(s);case 15:if(p=t.sent,b=p.error,d=p.nextUrl,h=p.repositoriesList,!b){t.next=22;break}return ue(b),t.abrupt("return");case 22:if(!l.current){t.next=24;break}return t.abrupt("return");case 24:z((function(e){var t=e[n];if(t){var r=[].concat(Object(f.a)(t.list),Object(f.a)(h));return M(r),Object(i.a)(Object(i.a)({},e),{},Object(u.a)({},n,{list:r,nextUrl:d}))}return M(h),Object(i.a)(Object(i.a)({},e),{},Object(u.a)({},n,{list:h,nextUrl:d}))})),A(!1);case 26:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(p.a)(m.a.mark((function t(){var r,a,n,c,s,o,p,b,d,h;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ie){t.next=3;break}return re.length&&ae([]),t.abrupt("return");case 3:if(r=e.pathname.lastIndexOf("/"),a=e.pathname.lastIndexOf("/",r-1),n=e.pathname.slice(a+1,r),ae(Y[n]?Y[n].list:[]),c="https://api.github.com/users/".concat(n,"/followers"),s=Y[n]?Y[n].nextUrl:c,o=s===le.current,l.current||V||o||!s||!(ne()<100)){t.next=26;break}return le.current=s,q(!0),t.next=15,T(s);case 15:if(p=t.sent,b=p.error,d=p.nextUrl,h=p.followersList,!b){t.next=22;break}return ue(b),t.abrupt("return");case 22:if(!l.current){t.next=24;break}return t.abrupt("return");case 24:Z((function(e){var t=e[n];if(t){var r=[].concat(Object(f.a)(t.list),Object(f.a)(h));return ae(r),Object(i.a)(Object(i.a)({},e),{},Object(u.a)({},n,{list:r,nextUrl:d}))}return ae(h),Object(i.a)(Object(i.a)({},e),{},Object(u.a)({},n,{list:h,nextUrl:d}))})),q(!1);case 26:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){t(),r(),a()};return n(),document.addEventListener("scroll",n),function(){return document.removeEventListener("scroll",n)}}),[e.pathname,L,c,E,g,F,V,K,Y,J.length,re.length,oe,ie]),g.length||!ie&&!oe?e.pathname==="".concat("/github-users","/")||ie||oe?n.a.createElement("div",{className:"App"},n.a.createElement(v,{search:function(e){l.current=e,s(e)},currentSearch:c}),n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:"".concat("/github-users","/")},n.a.createElement(U,{loading:E,searchTerm:c,users:g})),n.a.createElement(d.b,{path:"".concat("/github-users","/:username")},n.a.createElement(N,{followers:re,followersLoading:V,repositories:J,repositoriesLoading:F,searchTerm:c,users:g})))):n.a.createElement(C,null):n.a.createElement(d.a,{to:"".concat("/github-users","/")})};r(61);s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(l.a,null,n.a.createElement(H,null))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.e7c0076d.chunk.js.map